{% extends 'books/base.html' %}

{% block content %}
<div class="row">
    <div class="col-md-8 mx-auto">
        <div class="card">
            <div class="card-header">
                <h4 class="mb-0">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–∏–≥—É</h4>
            </div>
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}

                    <div class="mb-3">
                        <label for="title" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏</label>
                        <input type="text" class="form-control" id="title" name="title"
                               value="{{ book.title }}" required>
                    </div>

                    <div class="mb-3">
                        <label for="author" class="form-label">–ê–≤—Ç–æ—Ä</label>
                        <input type="text" class="form-control" id="author" name="author"
                               value="{{ book.author }}" required>
                    </div>

                    <div class="mb-3">
                        <label for="year" class="form-label">–ì–æ–¥ –∏–∑–¥–∞–Ω–∏—è</label>
                        <input type="number" class="form-control" id="year" name="year"
                               value="{{ book.year }}" min="1800" max="2030" required>
                    </div>

                    <div class="mb-3">
                        <label for="janr" class="form-label">–ñ–∞–Ω—Ä</label>
                        <select class="form-control" id="janr" name="janr" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∂–∞–Ω—Ä...</option>
                            <option value="–†–æ–º–∞–Ω" {% if book.janr == "–†–æ–º–∞–Ω" %}selected{% endif %}>–†–æ–º–∞–Ω</option>
                            <option value="–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞" {% if book.janr == "–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞" %}selected{% endif %}>–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞</option>
                            <option value="–î–µ—Ç–µ–∫—Ç–∏–≤" {% if book.janr == "–î–µ—Ç–µ–∫—Ç–∏–≤" %}selected{% endif %}>–î–µ—Ç–µ–∫—Ç–∏–≤</option>
                            <option value="–§—ç–Ω—Ç–µ–∑–∏" {% if book.janr == "–§—ç–Ω—Ç–µ–∑–∏" %}selected{% endif %}>–§—ç–Ω—Ç–µ–∑–∏</option>
                            <option value="–ö–ª–∞—Å—Å–∏–∫–∞" {% if book.janr == "–ö–ª–∞—Å—Å–∏–∫–∞" %}selected{% endif %}>–ö–ª–∞—Å—Å–∏–∫–∞</option>
                            <option value="–ù–∞—É—á–Ω–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞" {% if book.janr == "–ù–∞—É—á–Ω–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞" %}selected{% endif %}>–ù–∞—É—á–Ω–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</option>
                            <option value="–ë–∏–æ–≥—Ä–∞—Ñ–∏—è" {% if book.janr == "–ë–∏–æ–≥—Ä–∞—Ñ–∏—è" %}selected{% endif %}>–ë–∏–æ–≥—Ä–∞—Ñ–∏—è</option>
                            <option value="–ü–æ—ç–∑–∏—è" {% if book.janr == "–ü–æ—ç–∑–∏—è" %}selected{% endif %}>–ü–æ—ç–∑–∏—è</option>
                            <option value="–î—Ä–∞–º–∞" {% if book.janr == "–î—Ä–∞–º–∞" %}selected{% endif %}>–î—Ä–∞–º–∞</option>
                            <option value="–ö–æ–º–µ–¥–∏—è" {% if book.janr == "–ö–æ–º–µ–¥–∏—è" %}selected{% endif %}>–ö–æ–º–µ–¥–∏—è</option>
                            <option value="–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è" {% if book.janr == "–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è" %}selected{% endif %}>–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è</option>
                            <option value="–£—á–µ–±–Ω–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞" {% if book.janr == "–£—á–µ–±–Ω–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞" %}selected{% endif %}>–£—á–µ–±–Ω–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</option>
                            <option value="–î—Ä—É–≥–æ–µ" {% if book.janr == "–î—Ä—É–≥–æ–µ" %}selected{% endif %}>–î—Ä—É–≥–æ–µ</option>
                        </select>
                    </div>

                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                        <a href="{% url 'book_list' %}?source=db" class="btn btn-secondary">‚ùå –û—Ç–º–µ–Ω–∞</a>
                    </div>
                </form>
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0">üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–Ω–∏–≥–µ</h5>
            </div>
            <div class="card-body">
                <p><strong>ID –∑–∞–ø–∏—Å–∏:</strong> {{ book.id }}</p>
                <p><strong>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</strong> {{ book.created_at|date:"d.m.Y H:i" }}</p>
                <p><strong>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:</strong> {% now "d.m.Y H:i" %}</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}